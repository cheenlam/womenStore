<div class="checkBox">
    <div class="checkTitle on">CHECK OUT</div>

    <!-- ===== checkStep (購物步驟) start ===== -->
    <div class="checkStep">
        <ul>
            <li class="on">
                <div>1.</div>
                <div>
                    <span>確認購物清單</span>
                    <span>SHOPPING CART</span>
                </div>
            </li>
            <li>
                <div>2.</div>
                <div>
                    <span>選擇付款方式</span>
                    <span>CHOOSE PAYMENT</span>
                </div>
            </li>
            <li>
                <div>3.</div>
                <div>
                    <span>填寫訂單資料</span>
                    <span>DELIVERY</span>
                </div>
            </li>
            <li>
                <div>4.</div>
                <div>
                    <span>完成訂購</span>
                    <span>FINAL CONFIRM</span>
                </div>
            </li>
        </ul>
    </div>

    <!-- ===== checkOrder (確認訂單資料) start ===== -->
    <div class="checkOrder">
        <div class="orderMsg_cnt">
            <ul>
                <li>
                    <div class="orderCard">
                        <div class="title">
                            <span class="icon-user"></span>
                            <p>取件人</p>
                        </div>

                        <ul>
                            <li>
                                <h6>姓名：</h6>
                                <p>textName</p>
                            </li>
                            <li>
                                <h6>EMAIL信箱：</h6>
                                <p>textName@gmail.com</p>
                            </li>
                            <li>
                                <h6>行動電話：</h6>
                                <p>0912345678</p>
                            </li>
                            <li>
                                <h6>連絡電話：</h6>
                                <p>04-12345678 轉1023</p>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <div class="orderCard">
                        <div class="title">
                            <span class="icon-truck"></span>
                            <p>配送方式</p>
                        </div>

                        <ul>
                            <li>
                                <h6>配送方式：</h6>
                                <p>7-11門市取貨付款</p>
                            </li>
                            <li>
                                <h6>送貨時段：</h6>
                                <p>不需指定送貨時段</p>
                            </li>
                            <li>
                                <h6>指定地址：</h6>
                                <p>台中市西屯區市政北二路238號 (忠勇門市)</p>
                            </li>
                        </ul>
                    </div>
                </li>
                <li>
                    <div class="orderCard">
                        <div class="title">
                            <span class="icon-coin-dollar"></span>
                            <p>付款方式</p>
                        </div>

                        <ul>
                            <li><h6>貨到付款</h6></li>
                        </ul>          
                    </div>
                </li>
                <li>
                    <div class="orderCard">
                        <div class="title">
                            <span class="icon-information-outline"></span>
                            <p>訂單備註</p>
                        </div>

                        <ul>
                            <li>
                                <h6>統一編號：</h6>
                                <p>12345678</p>
                            </li>
                            <li>
                                <h6>統編抬頭：</h6>
                                <p>textName</p>
                            </li>
                            <li>
                                <h6>訂單備註：</h6>
                                <p>下午再寄送、管理員可代收</p>
                            </li>
                        </ul>          
                    </div>
                </li>
            </ul>
        </div>
    </div>

    <!-- ===== checkList (購物清單) start ===== -->
    <div class="checkList">
        <h5>SHOPPING LIST 購物清單</h5>
        <table>
            <tr>
                <th></th>
                <th>顏色</th>
                <th>尺寸</th>
                <th>價格</th>
                <th>數量</th>
                <th>小計</th>          
                <th></th>
            </tr>
            <tr>
                <td>
                    <div class="checkImg">
                        <img src="./img/main_topR_01.jpg">
                    </div>
                    <div>
                        <span>#A123456789</span>
                        <p>壓皺感荷葉邊棉麻連身裙</p>
                    </div>
                </td>
                <td data-title="顏色：">白</td>
                <td data-title="尺寸：">M</td>
                <td data-title="價格："><p>1980</p></td>
                <td data-title="數量：">1</td>
                <td data-title="小計："><p>1980</p></td>
                <td class="checkDel"><span class="icon-bin"></span></td>
            </tr>
            <tr>
                <td>
                    <div class="checkImg">
                        <img src="./img/main_topR_01.jpg">
                    </div>
                    <div>
                        <span>#A123456789</span>
                        <p>壓皺感荷葉邊棉麻連身裙</p>
                    </div>
                </td>
                <td data-title="顏色：">白</td>
                <td data-title="尺寸：">M</td>
                <td data-title="價格："><p>1980</p></td>
                <td data-title="數量：">1</td>
                <td data-title="小計："><p>1980</p></td>
                <td class="checkDel"><span class="icon-bin"></span></td>
            </tr>
            <tr>
                <td>
                    <div class="checkImg">
                        <img src="./img/main_topR_01.jpg">
                    </div>
                    <div>
                        <span>#A123456789</span>
                        <p>壓皺感荷葉邊棉麻連身裙</p>
                    </div>
                </td>
                <td data-title="顏色：">白</td>
                <td data-title="尺寸：">M</td>
                <td data-title="價格："><p>1980</p></td>
                <td data-title="數量：">1</td>
                <td data-title="小計："><p>1980</p></td>
                <td class="checkDel"><span class="icon-bin"></span></td>
            </tr>      
        </table> 
        
        <div>
            <ul class="checkRem">
                <li>非臺灣地區的訂單，不適用貨到付款。</li>
                <li>請確認您購買的商品尺寸、顏色及數量。確認後訂單將無法進行任何更改。</li>
                <li>商品售價將以您實際結帳之即時價格為主，商品數量、贈品與優惠等，也將以您實際結賬為準。</li>
            </ul>
            <div class="checkCount">
                <ul>
                    <li data-title="運費"><span>0</span></li>
                    <li data-title="商品總金額"><span>7290</span> </li>
                    <li data-title="活動折扣"><span>-1188</span></li>
                    <li data-title="應付總金額" class="checkTotal"><span>6732</span></li>
                </ul>
            </div>
        </div>
    </div>

    <!-- ===== checkDely (選擇配送方式) start ===== -->
    <div class="checkDely">
        <h5>DELIVERY 選擇配送方式</h5>
        <ul>
            <li>
                <p>1. 請選擇繳款方式</p>
                <select class="checkSel_01">
                    <option value="0">-- 請選擇 --</option>
                    <option value="1">ATM轉帳</option>
                    <option value="2">超商取貨付款</option> 
                    <option value="3">貨到付款</option>
                    <option value="4">線上刷卡</option>                  
                </select>
            </li>
            <li>
                <p>2. 請選擇送貨方式</p>
                <select class="checkSel_02">
                    <option data-number="0">-- 請選擇 --</option>
                    <option data-number="1">黑貓宅配</option>
                    <option data-number="1">郵局宅配</option>
                    <option data-number="2">7-11門市取貨付款</option>
                    <option data-number="2">全家門市取貨付款</option>
                    <option data-number="2">OK門市取貨付款</option>
                    <option data-number="2">萊爾富門市取貨付款</option>
                </select>
            </li>
            <li>
                <p>3. 請選擇送貨時段</p>
                <select class="checkSel_03">
                    <option data-number="0">-- 請選擇 --</option>
                    <option data-number="1">不需指定送貨時段</option>
                    <option data-number="1">13 時前</option>
                    <option data-number="1">14 時 ~ 18 時</option>  
                    <option data-number="2">不需指定送貨時段</option>             
                </select>
            </li>
        </ul>
    </div>

    <!-- ===== checkMsg (填寫訂單資料) start ===== -->
    <div class="checkMsg">
        <h5>INFORMATION 填寫訂單資料</h5>
        <div>
            <!-- 收件人資訊 (選擇宅配) -->     
            <ul class="on">
                <li>
                    <label >收件者姓名</label>
                    <input type="text" required>
                    <span class="icon-close-outline"></span>
                </li>
                <li>
                    <label>行動電話</label>
                    <input type="text" required>
                    <span class="icon-close-outline"></span>
                </li>
                <li class="checkTel">
                    <label>連絡電話</label>
                    <input type="tel">
                    <input type="tel">
                    <input type="tel" placeholder="分機">
                </li>
                <li class="checkAdd">
                    <label>收件地址</label>
                    <div>
                        <select>
                            <option value="">臺北市</option>
                            <option value="">基隆市</option>
                            <option value="">新北市</option>
                            <option value="">宜蘭縣</option>
                            <option value="">新竹市</option>
                            <option value="">新竹縣</option>
                            <option value="">桃園市</option>
                            <option value="">苗栗縣</option>
                            <option value="">臺中市</option>
                            <option value="">彰化縣</option>
                            <option value="">南投縣</option>
                            <option value="">嘉義市</option>
                            <option value="">嘉義縣</option>
                            <option value="">雲林縣</option>
                            <option value="">臺南市</option>
                            <option value="">高雄市</option>
                            <option value="">澎湖縣</option>
                            <option value="">屏東縣</option>
                            <option value="">臺東縣</option>
                            <option value="">花蓮縣</option>
                            <option value="">金門縣</option>
                            <option value="">連江縣</option>
                        </select>
                        <select>
                            <option value="">100 中正區</option>
                            <option value="">103 大同區</option>
                            <option value="">104 中山區</option>
                            <option value="">105 松山區</option>
                            <option value="">106 大安區</option>
                            <option value="">108 萬華區</option>
                            <option value="">110 信義區</option>
                            <option value="">111 士林區</option>
                            <option value="">112 北投區</option>
                            <option value="">114 內湖區</option>
                            <option value="">115 南港區</option>
                            <option value="">116 文山區</option>
                        </select>
                    </div>
                    <input type="text">
                </li>
            </ul>

            <!-- 收件人資訊 (選擇超商取貨) -->
            <ul class="on">
                <li>
                    <label>提貨人姓名</label>
                    <input type="text" required>
                    <span class="icon-close-outline"></span>
                </li>
                <li>
                    <label>行動電話</label>
                    <input type="text" required>
                    <span class="icon-close-outline"></span>
                </li>
                <li class="checkTel">
                    <label>連絡電話</label>
                    <input type="tel">
                    <input type="tel">
                    <input type="tel" placeholder="分機">
                </li>
                <li>
                    <label>EMAIL信箱</label>
                    <input type="email" required>
                    <span class="icon-close-outline"></span>
                </li>
                <li class="checkStore">
                    <label>指定門市</label>
                    <div>忠勇門市</div>
                    <button>選擇門市</button>
                    <div>台中市南屯區忠勇路105之27號1樓</div>
                </li>
            </ul>

            <!-- 發票資訊 -->
            <ul class="on">
                <li>
                    <label>統一編號</label>
                    <input type="text" required>
                    <span class="icon-close-outline"></span>
                </li>
                <li>
                    <label>抬頭</label>
                    <input type="text" required>
                    <span class="icon-close-outline"></span>
                </li>
                <li class="checkRemark">
                    <label>訂單備註</label>
                    <textarea cols="100" rows="10"></textarea>
                </li>
            </ul>
        </div>

        <ul class="checkRem">
            <li>假日不收件、下午再寄送、管理員可代收等資訊請用括弧( ) 直接加註在地址後面即可。</li>
            <li>尺寸確認的問題請於購買前與客服人員電話連絡, 出貨人員無法替您解決尺寸上的疑問。</li>
        </ul>
    </div>

    <!-- ===== checkTool (購物按鈕) start ===== -->
    <div class="checkTool">
        <ul>
            <li class="checkBack on"><a>HOME 繼續購物</a></li>
            <li class="checkBack"><a>BACK 上一步</a></li>
            <li class="checkBtn on"><button>NENT 下一步</button></li>
            <li class="checkBtn"><button>DONE 確認結帳</button></li>
        </ul>
    </div>

</div>

<script>

    // 選擇配送方式
    $('.checkSel_01').change(function(){
        var getNb = $(this).val()
        $('.checkSel_02 option:not([data-number="0"])').css('display','none')
        $('.checkSel_03 option:not([data-number="0"])').css('display','none')
        $('.checkSel_03 option[data-number="0"]').css('display','block')
        $('.checkSel_02,.checkSel_03').val('-- 請選擇 --') 

        $('.checkMsg ul').removeClass('on')
        $('.checkMsg ul:eq(2)').addClass('on')
        switch(getNb){             
            case "1":
            case "3":
            case "4":
                $('.checkSel_02 option[data-number="1"]').css('display','block')
                $('.checkSel_03 option[data-number="1"]').css('display','block')  

                $('.checkMsg ul:eq(0)').addClass('on')
                break;

            case "2":
                $('.checkSel_03 option[data-number="0"]').css('display','none')
                $('.checkSel_03').val('不需指定送貨時段') 
                $('.checkSel_02 option[data-number="2"]').css('display','block')
                $('.checkSel_03 option[data-number="2"]').css('display','block')

                $('.checkMsg ul:eq(1)').addClass('on')
                break;
        }     
    })

    var nowStep = 0;
    $('.checkTool li').click(function(){
        var find = $('.checkTool li').index(this)
        switch(find){
            case 0:
                mainInclude('page/assort.html');
                break;
            case 1:
                nowStep--;
                page(nowStep);
                break;
            case 2:    
                nowStep++;          
                page(nowStep);
                text()
                break;
            case 3:
                nowStep = 0;
                page(nowStep);
                break;
        }



        function text(){
            // 填入付款方式
            if($('.checkSel_01').val() > 0){
                var select = $(`.checkSel_01 option:eq(${$('.checkSel_01').val()})`).html()
                $('.checkOrder .orderMsg_cnt>ul>li:eq(2) li:eq(0) h6').text(select)
            }
            // 填入配送方式
            if($('.checkSel_02').val() != $('.checkSel_02 option:eq(0)').val()){
                var select = $('.checkSel_02').val()
                $('.checkOrder .orderMsg_cnt>ul>li:eq(1) li:eq(0) p').text(select)
            }
            // 填入送貨時段
            if($('.checkSel_01').val() !=2 && $('.checkSel_03').val() != $('.checkSel_03 option:eq(0)').val()){
                var select = $('.checkSel_03').val()
                $('.checkOrder .orderMsg_cnt>ul>li:eq(1) li:eq(1) p').text(select)
            }else if($('.checkSel_01').val() == 2){
                var select = $('.checkSel_03').val()
                $('.checkOrder .orderMsg_cnt>ul>li:eq(1) li:eq(1) p').text(select)
            }              

        }


        function page(e){
            $('.checkDely,.checkMsg,.checkOrder').removeClass('on')

            $('.checkStep li').removeClass('on')
            for(var i = 0; i < e+1 ; i++){
                $(`.checkStep li:eq(${i})`).addClass('on')
            }
            
            switch(e){
                case 0:
                    $('.checkTool li:eq(0),.checkTool li:eq(2)').addClass('on')
                    $('.checkTool li:eq(1),.checkTool li:eq(3)').removeClass('on')
                    $('.checkList th:last-child,.checkList td:last-child').css('display','block')
                    break;      
                case 1:
                    $('.checkTool li:eq(0),.checkTool li:eq(3)').removeClass('on')
                    $('.checkTool li:eq(1),.checkTool li:eq(2)').addClass('on')
                    $('.checkDely').addClass('on')
                    $('.checkList th:last-child,.checkList td:last-child').css('display','none')
                    break;
                case 2:
                    $('.checkTool li:eq(0),.checkTool li:eq(3)').removeClass('on')
                    $('.checkTool li:eq(1),.checkTool li:eq(2)').addClass('on')
                    $('.checkMsg').addClass('on')                  
                    break;
                case 3:
                    $('.checkTool li:eq(0),.checkTool li:eq(2)').removeClass('on')
                    $('.checkTool li:eq(1),.checkTool li:eq(3)').addClass('on')
                    $('.checkOrder').addClass('on')
                    break;
            }
        }
    })


</script>

